# GGABA v2.0 â€” Blind Reverse Auction Platform (ë¹„ê³µê°œ ì—­ê²½ë§¤)

> **Pivot:** AI ê²¬ì  ì§„ë‹¨ í”Œë«í¼ â†’ **ë¹„ê³µê°œ ì—­ê²½ë§¤ í”Œë«í¼**
> **Core Concept:** ì†Œë¹„ìê°€ ì‹œê³µ ìš”ì²­ì„ ì˜¬ë¦¬ë©´, ì‹œê³µì‚¬ê°€ ì„œë¡œì˜ ê°€ê²©ì„ ëª¨ë¥¸ ì±„ ì…ì°° (Blind Bidding)
> **Dual Mode:** í•˜ë‚˜ì˜ ì•±ì—ì„œ ì†Œë¹„ì ëª¨ë“œ / ì‹œê³µì‚¬ ëª¨ë“œ ì „í™˜
> **Tech:** Next.js 14 App Router / TypeScript / Supabase / Drizzle ORM / Zustand / TanStack Query v5 / shadcn/ui
> **Updated:** 2026-02-21

---

## Phase 0: Refactoring & Migration (ê¸°ì¡´ ì½”ë“œ ë³´ì¡´ & ìˆ¨ê¹€)

> **ëª©í‘œ:** ê¸°ì¡´ AI ì§„ë‹¨ ê¸°ëŠ¥ì„ ì‚­ì œí•˜ì§€ ì•Šê³  ìˆ¨ê¸°ê³ , v2.0ì— í•„ìš”í•œ DB ìŠ¤í‚¤ë§ˆë¥¼ í™•ì¥í•œë‹¤.

### 0-1. AI ì§„ë‹¨ ê¸°ëŠ¥ ìˆ¨ê¹€ ì²˜ë¦¬

- [x] í™˜ê²½ ë³€ìˆ˜ Feature Flag ì¶”ê°€: `NEXT_PUBLIC_ENABLE_AI_DIAGNOSIS=false`
- [x] ê¸°ì¡´ `/diagnosis` ë¼ìš°íŠ¸ë¥¼ `(hidden)/diagnosis` ë¼ìš°íŠ¸ ê·¸ë£¹ìœ¼ë¡œ ì´ë™
- [x] BottomNavì—ì„œ "ì§„ë‹¨" íƒ­ ì¡°ê±´ë¶€ ë Œë”ë§ (Feature Flag ê¸°ë°˜)
- [x] í™ˆ í˜ì´ì§€ CTAì—ì„œ ì§„ë‹¨ ê´€ë ¨ UI ì¡°ê±´ë¶€ ìˆ¨ê¹€
- [x] `/vault` í˜ì´ì§€ Feature Flag ì ìš© (ì§„ë‹¨ ê²°ê³¼ ê¸ˆê³ )

### 0-2. DB ìŠ¤í‚¤ë§ˆ í™•ì¥ (Drizzle)

- [x] `users` í…Œì´ë¸” í™•ì¥:
  - [x] `role` ì»¬ëŸ¼ ì¶”ê°€ â€” `'consumer' | 'contractor'` (ê¸°ë³¸ê°’: `'consumer'`)
  - [x] `business_profile_id` ì»¬ëŸ¼ ì¶”ê°€ â€” `business_profiles` FK (nullable)
- [x] `business_profiles` í…Œì´ë¸” ìƒì„±:
  - [x] ì‚¬ì—…ì ì •ë³´: ìƒí˜¸ëª…, ì‚¬ì—…ìë²ˆí˜¸, ëŒ€í‘œìëª…, ì—°ë½ì²˜
  - [x] ì¸ì¦ ìƒíƒœ: `verified` boolean
  - [x] ì „ë¬¸ ë¶„ì•¼, ì‹œê³µ ê°€ëŠ¥ ì§€ì—­
- [x] `auctions` í…Œì´ë¸” ìƒì„±:
  - [x] `user_id` FK (ì†Œë¹„ì)
  - [x] ìš”ì²­ ì •ë³´: region, size_pyeong, budget_min, budget_max, schedule, description
  - [x] ìƒíƒœ: `status` â€” `'open' | 'bidding' | 'selected' | 'in_progress' | 'completed' | 'cancelled'`
  - [x] ë§ˆê° ì‹œê°„: `deadline_at`
  - [x] ì£¼ì†Œ/ì—°ë½ì²˜: ì‹œê³µì‚¬ì—ê²Œ ì´ˆê¸° ë¹„ê³µê°œ (ì„ íƒ í›„ ê³µê°œ)
- [x] `bids` í…Œì´ë¸” ìƒì„±:
  - [x] `auction_id` FK, `contractor_id` FK
  - [x] `total_price`, `message` (ì‹œê³µì‚¬ ì½”ë©˜íŠ¸)
  - [x] `status` â€” `'submitted' | 'selected' | 'rejected'`
  - [x] Unique constraint: (auction_id, contractor_id) â€” ì¤‘ë³µ ì…ì°° ë°©ì§€
- [x] `bid_items` í…Œì´ë¸” ìƒì„± â€” **ê¸°ì¡´ estimate_itemsì™€ ë™ì¼í•œ 4-tier ê³„ì¸µ êµ¬ì¡°**:
  - [x] `bid_id` FK
  - [x] `category` (ëŒ€ë¶„ë¥˜) â†’ `detail` (ì„¸ë¶€í•­ëª©) â†’ `unit` (ë‹¨ìœ„) â†’ `unit_price` (ë‹¨ê°€)
  - [x] `quantity`, `total_price`, `sort_order`
  - [x] AI ì§„ë‹¨ ê¸°ëŠ¥ ì¬í™œìš© ì‹œ ë°ì´í„° í˜¸í™˜ì„± ë³´ì¥
- [x] `portfolios` í…Œì´ë¸” ìƒì„±:
  - [x] `contractor_id` FK
  - [x] ì‹œê³µ ì‚¬ë¡€: title, description, region, size_pyeong, duration_days, total_cost
  - [x] Before/After ì´ë¯¸ì§€ URL ë°°ì—´
- [x] `reviews` í…Œì´ë¸” í™•ì¥ (ê¸°ì¡´ í…Œì´ë¸” ì—…ë°ì´íŠ¸):
  - [x] `auction_id` FK ì¶”ê°€
  - [x] `contractor_id` FK
  - [x] rating (1-5), content, images
- [x] `chat_rooms` í…Œì´ë¸” ìƒì„±:
  - [x] `auction_id` FK
  - [x] `consumer_id` FK, `contractor_id` FK
  - [x] `status` â€” `'active' | 'closed'`
- [x] `messages` í…Œì´ë¸” ìƒì„±:
  - [x] `chat_room_id` FK, `sender_id` FK
  - [x] `content`, `type` â€” `'text' | 'image' | 'file'`
  - [x] `file_url` (nullable)
  - [x] `read_at` (nullable)
- [x] Drizzle relations ì •ì˜ (ëª¨ë“  ì‹ ê·œ í…Œì´ë¸” ê°„ ê´€ê³„)
- [x] ë§ˆì´ê·¸ë ˆì´ì…˜ ìƒì„± ë° Supabase ë°˜ì˜

---

## Phase 1: Architecture & Dual Mode Setup

> **ëª©í‘œ:** ì†Œë¹„ì/ì‹œê³µì‚¬ ë“€ì–¼ ëª¨ë“œ ì „í™˜ ì•„í‚¤í…ì²˜ë¥¼ êµ¬í˜„í•œë‹¤.

### 1-1. Global State â€” ë“€ì–¼ ëª¨ë“œ (Zustand)

- [x] `useUserStore` í™•ì¥: `userMode` ìƒíƒœ ì¶”ê°€ (`'CONSUMER' | 'CONTRACTOR'`)
- [x] ëª¨ë“œ ì „í™˜ í•¨ìˆ˜: `toggleMode()` â€” ì†Œë¹„ì â†” ì‹œê³µì‚¬
- [x] ì‹œê³µì‚¬ ëª¨ë“œ ì§„ì… ì¡°ê±´: `business_profile_id` ì¡´ì¬ ì—¬ë¶€ í™•ì¸
- [x] ëª¨ë“œ ìƒíƒœ persist (localStorage)

### 1-2. Dynamic Layout â€” ëª¨ë“œë³„ íƒ­ë°”

- [x] `BottomNav` ë¦¬íŒ©í„°ë§: `userMode`ì— ë”°ë¼ íƒ­ êµ¬ì„± ë³€ê²½
  - [x] **ì†Œë¹„ì ëª¨ë“œ íƒ­:** í™ˆ / ê²½ë§¤ / ì»¤ë®¤ë‹ˆí‹° / ë§ˆì´í˜ì´ì§€
  - [x] **ì‹œê³µì‚¬ ëª¨ë“œ íƒ­:** ì…ì°°ëª©ë¡ / í¬íŠ¸í´ë¦¬ì˜¤ / ì»¤ë®¤ë‹ˆí‹° / ë§ˆì´í˜ì´ì§€
- [x] ëª¨ë“œ ì „í™˜ í† ê¸€ UI (ë§ˆì´í˜ì´ì§€ ë˜ëŠ” ìƒë‹¨ í—¤ë”)

### 1-3. Auth & Onboarding ì—…ë°ì´íŠ¸

- [x] íšŒì›ê°€ì… í›„ ì˜¨ë³´ë”© í”Œë¡œìš°:
  - [x] ì†Œë¹„ì: ìµœì†Œ ì •ë³´ ìˆ˜ì§‘ (ë‹‰ë„¤ì„)
  - [x] ì‹œê³µì‚¬: "ì‚¬ì—…ì ì¸ì¦" ë‹¨ê³„ ì¶”ê°€ (ì‚¬ì—…ìë²ˆí˜¸, ìƒí˜¸ëª…, ì „ë¬¸ë¶„ì•¼)
- [x] ë³´í˜¸ ë¼ìš°íŠ¸ ì—…ë°ì´íŠ¸:
  - [x] ì‹œê³µì‚¬ ì „ìš© ë¼ìš°íŠ¸ (`/bids`, `/portfolio/edit`) â€” role ì²´í¬
  - [x] ì†Œë¹„ì ì „ìš© ë¼ìš°íŠ¸ (`/auction/new`) â€” role ì²´í¬
- [x] middleware.ts ì—…ë°ì´íŠ¸: ëª¨ë“œë³„ ì ‘ê·¼ ì œì–´

---

## Phase 2: Consumer â€” Blind Auction Flow (ì†Œë¹„ì ê²½ë§¤ í”Œë¡œìš°)

> **ëª©í‘œ:** ì†Œë¹„ìê°€ ì‹œê³µ ìš”ì²­ì„ ì˜¬ë¦¬ê³ , ë“¤ì–´ì˜¨ ì…ì°°ì„ ë¹„êµí•˜ëŠ” í•µì‹¬ í”Œë¡œìš°ë¥¼ êµ¬í˜„í•œë‹¤.

### 2-1. ì†Œë¹„ì í™ˆ

- [x] `/` í™ˆ í˜ì´ì§€ ë¦¬ë””ìì¸ (ì†Œë¹„ì ëª¨ë“œ):
  - [x] "ì‹œê³µ ìš”ì²­í•˜ê¸°" CTA ë²„íŠ¼
  - [x] ì‹¤ì‹œê°„ ê²½ë§¤ í˜„í™© ìœ„ì ¯ (ë‚´ ê²½ë§¤ ì…ì°° ìˆ˜, ìƒíƒœ)
  - [ ] ì¸ê¸° ì‹œê³µì‚¬ / ìµœê·¼ ë¦¬ë·° ë¯¸ë¦¬ë³´ê¸° *(Phase 5 ì—°ê¸° â€” ì‹œê³µì‚¬/ë¦¬ë·° ë°ì´í„° ì—†ìŒ)*

### 2-2. ê²½ë§¤ ìš”ì²­ í¼ (Multi-step Wizard)

- [x] `/auction/new` ë©€í‹°ìŠ¤í… ìœ„ì €ë“œ:
  - [x] Step 1 â€” ì§€ì—­ ì„ íƒ (region)
  - [x] Step 2 â€” í‰ìˆ˜ ì…ë ¥ (size_pyeong)
  - [x] Step 3 â€” ì˜ˆì‚° ë²”ìœ„ (budget_min ~ budget_max)
  - [x] Step 4 â€” ì‹œê³µ ì¼ì • (schedule)
  - [x] Step 5 â€” ìƒì„¸ ì„¤ëª… + ~~ì‚¬ì§„ ì—…ë¡œë“œ~~ *(ë³„ë„ ì‘ì—… â€” Storage ë²„í‚· ì„¤ì • í•„ìš”)*
- [x] **ê°œì¸ì •ë³´ ë³´í˜¸:** ì£¼ì†Œ, ì—°ë½ì²˜ëŠ” ì‹œê³µì‚¬ì—ê²Œ ì´ˆê¸° ë¹„ê³µê°œ
- [x] Server Action: `createAuction(data)` â€” auctions INSERT
- [x] ìƒì„± í›„ `/auction/[id]` ìƒíƒœ í˜ì´ì§€ë¡œ ì´ë™

### 2-3. ê²½ë§¤ ìƒíƒœ í˜ì´ì§€

- [x] `/auction/[id]` í˜ì´ì§€:
  - [x] ì‹¤ì‹œê°„ ì…ì°°ì ìˆ˜ í‘œì‹œ (polling 30ì´ˆ ê°„ê²©)
  - [x] ë§ˆê°ê¹Œì§€ ë‚¨ì€ ì‹œê°„ íƒ€ì´ë¨¸
  - [x] ìƒíƒœ ë±ƒì§€: open â†’ bidding â†’ selected â†’ in_progress â†’ completed
  - [x] ì…ì°° ë§ˆê° ì „: "ì•„ì§ ì…ì°° ì§„í–‰ ì¤‘" ì•ˆë‚´

### 2-4. ì…ì°° ë¹„êµ í…Œì´ë¸”

- [x] `/auction/[id]/compare` í˜ì´ì§€:
  - [x] ìˆ˜ì‹ ëœ ì…ì°° ë¹„êµ í…Œì´ë¸” ë Œë”ë§
  - [x] **ì»¬ëŸ¬ ì½”ë”© ë¡œì§:**
    - [x] ì´ˆë¡ (Green): í•´ë‹¹ í•­ëª© ìµœì €ê°€ êµ¬ê°„
    - [x] íšŒìƒ‰ (Gray): ì¤‘ê°„ êµ¬ê°„
    - [x] ë¹¨ê°• (Red): í•´ë‹¹ í•­ëª© ìµœê³ ê°€ êµ¬ê°„
  - [ ] **ë‹¨ê°€ ê¸°ë°˜ í‘œì‹œ:** `mÂ²ë‹¹ ë‹¨ê°€` ë˜ëŠ” `ê°œë‹¹ ë‹¨ê°€` ê¸°ì¤€ ë¹„êµ *(Phase 3 ì´í›„ â€” bid_items ì…ë ¥ êµ¬í˜„ í•„ìš”)*
  - [x] ì‹œê³µì‚¬ í¬íŠ¸í´ë¦¬ì˜¤ ë¯¸ë¦¬ë³´ê¸° ë§í¬ *(Phase 5 êµ¬í˜„ ì™„ë£Œ)*
  - [x] "ì´ ì‹œê³µì‚¬ ì„ íƒ" ë²„íŠ¼ *(ì±„íŒ…ë°© ìë™ ìƒì„±ì€ Phase 4 ë²”ìœ„)*
- [x] Server Action: `getBidsForAuction(auctionId)` â€” ì…ì°° ëª©ë¡ ì¡°íšŒ
- [x] Server Action: `selectBid(bidId)` â€” ì…ì°° ì„ íƒ ì²˜ë¦¬

### 2-5. ë‚´ ê²½ë§¤ ëª©ë¡

- [x] `/auction` í˜ì´ì§€:
  - [x] ë‚´ ê²½ë§¤ ìš”ì²­ ëª©ë¡ (ìƒíƒœë³„ í•„í„°)
  - [x] ì¹´ë“œ: ì§€ì—­, í‰ìˆ˜, ì˜ˆì‚°, ì…ì°° ìˆ˜, ìƒíƒœ ë±ƒì§€
  - [x] ì¹´ë“œ í´ë¦­ â†’ `/auction/[id]`

---

## Phase 3: Contractor â€” Bidding Flow (ì‹œê³µì‚¬ ì…ì°° í”Œë¡œìš°)

> **ëª©í‘œ:** ì‹œê³µì‚¬ê°€ ê³µê°œëœ ê²½ë§¤ë¥¼ íƒìƒ‰í•˜ê³ , ë‹¨ê°€ ê¸°ë°˜ìœ¼ë¡œ ì…ì°°í•˜ëŠ” í”Œë¡œìš°ë¥¼ êµ¬í˜„í•œë‹¤.

### 3-1. ì…ì°° ê°€ëŠ¥ ê²½ë§¤ ëª©ë¡ (Browser)

- [x] `/bids` í˜ì´ì§€ (ì‹œê³µì‚¬ ëª¨ë“œ):
  - [x] ì—´ë¦° ê²½ë§¤ ëª©ë¡ (status: 'open' | 'bidding')
  - [x] í•„í„°: ì§€ì—­ / í‰ìˆ˜ ë²”ìœ„
  - [x] ì¹´ë“œ: ì§€ì—­, í‰ìˆ˜, ì˜ˆì‚° ë²”ìœ„, ë§ˆê°ê¹Œì§€ ë‚¨ì€ ì‹œê°„
  - [x] ì´ë¯¸ ì…ì°°í•œ ê²½ë§¤ í‘œì‹œ ("ì…ì°° ì™„ë£Œ" ë±ƒì§€)
  - [x] ë¬´í•œ ìŠ¤í¬ë¡¤ í˜ì´ì§€ë„¤ì´ì…˜
- [x] Server Action: `getOpenAuctions(filters?)` â€” ê²½ë§¤ ëª©ë¡ ì¡°íšŒ

### 3-2. ì…ì°° ì œì¶œ í¼

- [x] `/bids/[auctionId]/submit` í˜ì´ì§€:
  - [x] ê²½ë§¤ ìš”ì²­ ìƒì„¸ ì •ë³´ í‘œì‹œ
  - [x] **ë‹¨ê°€(mÂ²) ì…ë ¥ ê°•ì œ:** ê° ì¹´í…Œê³ ë¦¬ë³„ unit price ì…ë ¥
    - [x] 4-tier ê³„ì¸µ: category â†’ detail â†’ unit â†’ unit_price
    - [x] ìë™ í•©ê³„ ê³„ì‚°
  - [x] ì‹œê³µì‚¬ ì½”ë©˜íŠ¸ ì…ë ¥
  - [ ] í¬íŠ¸í´ë¦¬ì˜¤ ìë™ ì²¨ë¶€ *(ë¯¸êµ¬í˜„ â€” ìˆ˜ë™ í¬íŠ¸í´ë¦¬ì˜¤ ê´€ë¦¬ëŠ” Phase 5 ì™„ë£Œ)*
  - [x] **Blind ë¡œì§:** ë‹¤ë¥¸ ì‹œê³µì‚¬ì˜ ì…ì°° ì •ë³´ ì¡°íšŒ ë¶ˆê°€ (Server-side ê²€ì¦)
- [x] Server Action: `submitBid(data)` â€” bids + bid_items INSERT
- [x] ì¤‘ë³µ ì…ì°° ë°©ì§€ (DB unique constraint)

### 3-3. ë‚´ ì…ì°° ë‚´ì—­

- [x] `/bids/my` í˜ì´ì§€:
  - [x] ë‚´ê°€ ì œì¶œí•œ ì…ì°° ëª©ë¡
  - [x] ìƒíƒœë³„ í•„í„°: submitted / selected / rejected
  - [x] ì„ íƒëœ ì…ì°° â†’ ì±„íŒ…ë°© ì´ë™ ë§í¬

---

## Phase 4: Match & Communication (ë§¤ì¹­ & ì†Œí†µ) âœ…

> **ëª©í‘œ:** ì†Œë¹„ìê°€ ì‹œê³µì‚¬ë¥¼ ì„ íƒí•˜ë©´ ì±„íŒ…ë°©ì´ ìƒì„±ë˜ê³ , ì‹¤ì‹œê°„ ì†Œí†µì´ ê°€ëŠ¥í•˜ë‹¤.

### 4-1. ì‹œê³µì‚¬ ì„ íƒ & ì±„íŒ…ë°© ìƒì„±

- [x] ì†Œë¹„ìê°€ ì…ì°° ì„ íƒ ì‹œ:
  - [x] í•´ë‹¹ bid status â†’ `'selected'`, ë‚˜ë¨¸ì§€ â†’ `'rejected'`
  - [x] auction status â†’ `'selected'`
  - [x] `chat_rooms` ìë™ ìƒì„± (consumer_id + contractor_id + auction_id)
  - [ ] ì†Œë¹„ì ì£¼ì†Œ/ì—°ë½ì²˜ ì‹œê³µì‚¬ì—ê²Œ ê³µê°œ ì²˜ë¦¬ *(Phase 5 ì´í›„)*

### 4-2. 1:1 ì‹¤ì‹œê°„ ì±„íŒ…

- [x] `/chat/[roomId]` í˜ì´ì§€:
  - [x] ë©”ì‹œì§€ ëª©ë¡ (ì‹¤ì‹œê°„ â€” Supabase Realtime subscribe)
  - [x] í…ìŠ¤íŠ¸ ë©”ì‹œì§€ ì „ì†¡
  - [ ] ì´ë¯¸ì§€/íŒŒì¼ ê³µìœ  *(Phase 4ì—ì„œëŠ” disabled UIë§Œ í‘œì‹œ, ì¶”í›„ Supabase Storage ì—°ë™)*
  - [x] ì½ìŒ í‘œì‹œ (`read_at` ì—…ë°ì´íŠ¸)
- [x] `/chat` ì±„íŒ… ëª©ë¡ í˜ì´ì§€:
  - [x] ë‚´ ì±„íŒ…ë°© ëª©ë¡
  - [x] ë§ˆì§€ë§‰ ë©”ì‹œì§€ ë¯¸ë¦¬ë³´ê¸°, ì•ˆ ì½ì€ ë©”ì‹œì§€ ìˆ˜
- [x] Server Actions: `sendMessage()`, `getMessages()`, `markAsRead()`
- [x] RLS ì •ì±… SQL ë§ˆì´ê·¸ë ˆì´ì…˜ (chat_rooms, messages)
- [x] TanStack Query í›… (useChatRooms, useMessages, useSendMessage ë“±)
- [x] BottomNav 5íƒ­ êµ¬ì„± (ì†Œë¹„ì/ì‹œê³µì‚¬ ëª¨ë‘ ì±„íŒ… íƒ­ ì¶”ê°€)
- [x] ë¯¸ë“¤ì›¨ì–´ `/chat` ë³´í˜¸ ë¼ìš°íŠ¸ ì¶”ê°€

### 4-3. ê³„ì•½ & ì—ìŠ¤í¬ë¡œ (UI Only)

- [x] ì±„íŒ… ë‚´ "í‘œì¤€ ê³„ì•½ì„œ ì‘ì„±" ë²„íŠ¼ (UI ê»ë°ê¸°, disabled)
- [x] "ì—ìŠ¤í¬ë¡œ ê²°ì œ" ìƒíƒœ íŠ¸ë˜í‚¹ UI:
  - [x] ê³„ì•½ ì²´ê²° â†’ ì°©ìˆ˜ê¸ˆ ì…ê¸ˆ â†’ ì‹œê³µ ì¤‘ â†’ ì‹œê³µ ì™„ë£Œ â†’ ì”ê¸ˆ ì •ì‚°
  - [x] ìƒíƒœë³„ Progress í‘œì‹œ (ì‹¤ì œ ê²°ì œ ì—°ë™ì€ ì¶”í›„)

---

## Phase 5: Community & Portfolio (ì»¤ë®¤ë‹ˆí‹° & í¬íŠ¸í´ë¦¬ì˜¤) âœ…

> **ëª©í‘œ:** ì‹œê³µì‚¬ í¬íŠ¸í´ë¦¬ì˜¤, ë¦¬ë·° ì‹œìŠ¤í…œì„ êµ¬ì¶•í•˜ê³ , ê¸°ì¡´ ì»¤ë®¤ë‹ˆí‹°ë¥¼ í™•ì¥í•œë‹¤.

### 5-1. ì‹œê³µì‚¬ í¬íŠ¸í´ë¦¬ì˜¤

- [x] `/portfolio` í˜ì´ì§€ (ì‹œê³µì‚¬ ë³¸ì¸):
  - [x] í¬íŠ¸í´ë¦¬ì˜¤ ëª©ë¡ + ì‘ì„±/í¸ì§‘/ì‚­ì œ
  - [x] Before/After ì‚¬ì§„ ì—…ë¡œë“œ (Supabase Storage `portfolio-images` ë²„í‚·)
  - [x] ì‹œê³µ ì •ë³´: ì§€ì—­, í‰ìˆ˜, ê¸°ê°„, ë¹„ìš©
  - [x] `/portfolio/write` ì‘ì„± í˜ì´ì§€ (react-hook-form + zod)
  - [x] `/portfolio/[id]` ìƒì„¸ í˜ì´ì§€ (ê³µê°œ, ì†Œìœ ì ìˆ˜ì • ë²„íŠ¼)
  - [x] `/portfolio/[id]/edit` ìˆ˜ì • í˜ì´ì§€ (ë°ì´í„° í”„ë¦¬í•„, ì†Œìœ ì ê²€ì¦)
  - [x] ë¯¸ë“¤ì›¨ì–´: `/portfolio/write`, `/portfolio/[id]/edit` ë³´í˜¸ + ì‹œê³µì‚¬ ì „ìš©
- [x] `/contractor/[id]` í˜ì´ì§€ (ì†Œë¹„ì ì—´ëŒìš©):
  - [x] ì‹œê³µì‚¬ í”„ë¡œí•„ ì¹´ë“œ (ì•„ë°”íƒ€, ìƒí˜¸ëª…, ì „ë¬¸ë¶„ì•¼ ì¹©, ì‹œê³µì§€ì—­ ì¹©, ì¸ì¦ ë±ƒì§€)
  - [x] í†µê³„: í¬íŠ¸í´ë¦¬ì˜¤ Nê±´, ë¦¬ë·° Nê±´, í‰ê·  ë³„ì 
  - [x] í¬íŠ¸í´ë¦¬ì˜¤ ê°¤ëŸ¬ë¦¬ (ê°€ë¡œ ìŠ¤í¬ë¡¤)
  - [x] ìµœê·¼ ë¦¬ë·° ëª©ë¡ (ë³„ì , ë‚´ìš©, ì‘ì„±ì, ë‚ ì§œ)
- [x] ì…ì°° ë¹„êµ í˜ì´ì§€ì—ì„œ ì„ íƒëœ ì…ì°°ì˜ ì‹œê³µì‚¬ í”„ë¡œí•„ ë§í¬

### 5-2. ë¦¬ë·° ì‹œìŠ¤í…œ

- [x] ì†Œë¹„ìê°€ ë¦¬ë·° ì‘ì„±:
  - [x] `/reviews/write` í˜ì´ì§€ (URL íŒŒë¼ë¯¸í„°: contractorId, auctionId)
  - [x] ë³„ì  (1-5), í…ìŠ¤íŠ¸ ë¦¬ë·° (ìµœì†Œ 10ì), ì‚¬ì§„ ì²¨ë¶€
  - [x] ì´ë¯¸ì§€ ì—…ë¡œë“œ (Supabase Storage `review-images` ë²„í‚·)
  - [x] í•´ë‹¹ ê²½ë§¤/ì‹œê³µì‚¬ì— ì—°ê²° + ì¤‘ë³µ ë¦¬ë·° ë°©ì§€
- [x] ì‹œê³µì‚¬ í”„ë¡œí•„ì— ë¦¬ë·° í‰ê·  ë³„ì  ë°˜ì˜
- [x] ì±„íŒ…ë°© í—¤ë”ì— ì†Œë¹„ììš© "ë¦¬ë·° ì‘ì„±" ë²„íŠ¼ ì¶”ê°€

### 5-3. ì»¤ë®¤ë‹ˆí‹° í™•ì¥

- [x] ê¸°ì¡´ ì»¤ë®¤ë‹ˆí‹° ì½”ë“œ ì¬í™œìš© + í™•ì¥
- [x] ì‹œê³µì‚¬ ë±ƒì§€ í‘œì‹œ: ê²Œì‹œê¸€ ì¹´ë“œì— "ì‹œê³µì‚¬" ë±ƒì§€ (user_mode join)
- [x] `post_type` DB enum í™•ì¥: `contractor_tip`, `material_info` ì¶”ê°€
- [x] ì»¤ë®¤ë‹ˆí‹° í˜ì´ì§€ì— "ì‹œê³µíŒ", "ìì¬ì •ë³´" íƒ­ ì¶”ê°€
- [x] ì‹œê³µì‚¬ ì „ìš© ê²Œì‹œíŒ ì¹´í…Œê³ ë¦¬: ì‹œê³µì‚¬ ëª¨ë“œì—ì„œë§Œ ë…¸ì¶œ + ì„œë²„ ê²€ì¦

---

## Phase 6: Admin & Safety (ê´€ë¦¬ & ì•ˆì „ì¥ì¹˜) âœ…

> **ëª©í‘œ:** í”Œë«í¼ ì‹ ë¢°ë„ë¥¼ ìœ„í•œ í˜ë„í‹° ë° ì‹ ê³  ì‹œìŠ¤í…œì„ êµ¬ì¶•í•œë‹¤.

### 6-1. DB ìŠ¤í‚¤ë§ˆ & ë§ˆì´ê·¸ë ˆì´ì…˜

- [x] `reports` í…Œì´ë¸” ìƒì„± (reporter_id, target_type, target_id, target_user_id, reason, status, admin_note, resolved_at, resolved_by)
- [x] `penalties` í…Œì´ë¸” ìƒì„± (user_id, type, reason, report_id, is_active, expires_at, created_by)
- [x] Enum 4ê°œ: `report_target_type`, `report_reason`, `report_status`, `penalty_type`
- [x] Drizzle relations ì •ì˜ (reportsRelations, penaltiesRelations, usersRelations í™•ì¥)
- [x] SQL ë§ˆì´ê·¸ë ˆì´ì…˜ ìƒì„± ë° Supabase ë°˜ì˜ (ì¸ë±ìŠ¤ 6ê°œ í¬í•¨)

### 6-2. ì‹ ê³  ì‹œìŠ¤í…œ

- [x] `submitReport()` Server Action â€” ì¸ì¦ ì²´í¬, ëŒ€ìƒ ì¡´ì¬ í™•ì¸, ìê¸° ì‹ ê³  ë°©ì§€, ì¤‘ë³µ ì‹ ê³  ë°©ì§€
- [x] `<ReportDialog>` ì¬ì‚¬ìš© ì»´í¬ë„ŒíŠ¸ â€” ì‚¬ìœ  ë¼ë””ì˜¤ ì„ íƒ + ìƒì„¸ ì„¤ëª… + ì˜¤ë²„ë ˆì´ ëª¨ë‹¬
- [x] ì»¤ë®¤ë‹ˆí‹° ê²Œì‹œê¸€/ëŒ“ê¸€ì— ì‹ ê³  ë²„íŠ¼ í†µí•© (ë¡œê·¸ì¸ + ë³¸ì¸ ì•„ë‹Œ ê²½ìš°ë§Œ í‘œì‹œ)
- [x] ì…ì°° ë¹„êµ í˜ì´ì§€ ì…ì°° ì¹´ë“œì— ì‹ ê³  ë²„íŠ¼ í†µí•©
- [x] `reportKeys`, `penaltyKeys` Query Key íŒ©í† ë¦¬ + `useSubmitReport` í›…

### 6-3. ê´€ë¦¬ì ì‹œìŠ¤í…œ

- [x] ê´€ë¦¬ì Server Actions:
  - [x] `getReports()` ì»¤ì„œ í˜ì´ì§€ë„¤ì´ì…˜, `getReportDetail()`, `resolveReport()`, `updateReportStatus()`, `getPendingReportCount()`
  - [x] `getPenalties()`, `issuePenalty()`, `revokePenalty()`
  - [x] ëª¨ë“  í•¨ìˆ˜ì— admin role ì²´í¬ í¬í•¨
- [x] ë¯¸ë“¤ì›¨ì–´ `/admin` ë¼ìš°íŠ¸ ë³´í˜¸ (ë¡œê·¸ì¸ + admin role í•„ìˆ˜, ë¹„ê´€ë¦¬ì ë¦¬ë‹¤ì´ë ‰íŠ¸)
- [x] BottomNav `/admin` ê²½ë¡œ ìˆ¨ê¹€ ì²˜ë¦¬
- [x] `/admin` ëŒ€ì‹œë³´ë“œ â€” ì‹ ê³  ê´€ë¦¬(ëŒ€ê¸° ê±´ìˆ˜ ë±ƒì§€) / í˜ë„í‹° ê´€ë¦¬ ì¹´ë“œ ë§í¬
- [x] `/admin/reports` ì‹ ê³  ëª©ë¡ â€” íƒ­ í•„í„°(pending/reviewing/resolved/dismissed) + ë¬´í•œìŠ¤í¬ë¡¤
- [x] `/admin/reports/[id]` ì‹ ê³  ìƒì„¸ â€” ëŒ€ìƒ ì½˜í…ì¸  ë¯¸ë¦¬ë³´ê¸° + ì²˜ë¦¬/ê¸°ê°/í˜ë„í‹° ë¶€ì—¬
- [x] `/admin/penalties` í˜ë„í‹° ëª©ë¡ â€” ì „ì²´/í™œì„±/ë§Œë£Œ í•„í„°, ë¶€ì—¬ í¼(URL í”„ë¦¬í•„), í•´ì œ ê¸°ëŠ¥
- [x] `useAdminReports`, `useAdminReportDetail`, `useResolveReport`, `useAdminPenalties`, `useIssuePenalty`, `useRevokePenalty` í›…

### 6-4. ìë™ í”Œë˜ê·¸ (ë³´ë¥˜)

- [ ] ìµœì¢… ì‹œê³µ ê¸ˆì•¡ > ì…ì°° ê¸ˆì•¡ Ã— 1.15 ì‹œ ìë™ í”Œë˜ê·¸ *(ì—ìŠ¤í¬ë¡œ ì‹¤ì œ ì—°ë™ ì‹œì ê¹Œì§€ ë³´ë¥˜)*
  - [ ] ì‹œê³µì‚¬ì—ê²Œ ê²½ê³  ì•Œë¦¼
  - [ ] ë°˜ë³µ ì‹œ ê³„ì • ì œì¬ ë¡œì§

---

## ì°¸ê³ : v1.0 ë³´ì¡´ í•­ëª© (Hidden)

> ì•„ë˜ ê¸°ëŠ¥ì€ ì‚­ì œë˜ì§€ ì•Šê³  Feature Flagë¡œ ìˆ¨ê¹€ ì²˜ë¦¬. í–¥í›„ ì¬í™œìš© ê°€ëŠ¥.

| ì˜ì—­ | ë³´ì¡´ í•­ëª© |
|------|-----------|
| **ì§„ë‹¨ í”Œë¡œìš°** | 5-step ìœ„ì €ë“œ, Mock OCR, ê°€ê²© ë¶„ì„, ê·œì¹™ ê¸°ë°˜ ì•Œë¦¼ |
| **estimate_items** | 4-tier ê³„ì¸µ êµ¬ì¡° (bid_itemsì™€ ë™ì¼ êµ¬ì¡°ë¡œ ë°ì´í„° í˜¸í™˜) |
| **ê¸ˆê³ ** | ë‚´ ê²¬ì  ëª©ë¡, ì§„ë‹¨ ê²°ê³¼ ìƒì„¸ |
| **ì•Œë¦¼ ì—”ì§„** | alert-rules.ts â€” ëˆ„ë½/ê³¼ë‹¤/ì €ê°€ ë¶„ì„ ê·œì¹™ |

---

## ì°¸ê³ : ê¸° êµ¬í˜„ ì™„ë£Œ í•­ëª© (v1.0ì—ì„œ ì´ì–´ì§)

| ì˜ì—­ | ìƒíƒœ | ë¹„ê³  |
|------|------|------|
| Monorepo | âœ… ìœ ì§€ | Turborepo + pnpm workspaces |
| DB (6 í…Œì´ë¸”) | âœ… ìœ ì§€ + í™•ì¥ ì˜ˆì • | users í™•ì¥, ì‹ ê·œ í…Œì´ë¸” 7ê°œ ì¶”ê°€ |
| UI ì»´í¬ë„ŒíŠ¸ | âœ… ìœ ì§€ | shadcn/ui ê¸°ë°˜ 13ê°œ ì»´í¬ë„ŒíŠ¸ ì¬í™œìš© |
| Auth | âœ… ìœ ì§€ | Supabase Auth (Kakao/Google) |
| ì»¤ë®¤ë‹ˆí‹° | âœ… ìœ ì§€ + í™•ì¥ | ì‹œê³µì‚¬ ë±ƒì§€ ì¶”ê°€ ì˜ˆì • |
| í™ˆ/ë§ˆì´í˜ì´ì§€ | ğŸ”„ ë¦¬ë””ìì¸ | ë“€ì–¼ ëª¨ë“œ ëŒ€ì‘ |
